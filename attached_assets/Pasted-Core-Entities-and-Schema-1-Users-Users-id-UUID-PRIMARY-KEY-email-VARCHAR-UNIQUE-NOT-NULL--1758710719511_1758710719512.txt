Core Entities and Schema
1. Users
Users (
  id UUID PRIMARY KEY,
  email VARCHAR UNIQUE NOT NULL,
  password_hash VARCHAR NOT NULL,
  name VARCHAR,
  avatar_url TEXT,
  role ENUM('user', 'admin') DEFAULT 'user',
  created_at TIMESTAMP DEFAULT NOW(),
  updated_at TIMESTAMP DEFAULT NOW()
)

2. Websites
Websites (
  id UUID PRIMARY KEY,
  user_id UUID REFERENCES Users(id) ON DELETE CASCADE,
  name VARCHAR NOT NULL,
  slug VARCHAR UNIQUE NOT NULL,
  domain VARCHAR UNIQUE,
  status ENUM('active', 'paused', 'deleted') DEFAULT 'active',
  created_at TIMESTAMP DEFAULT NOW(),
  updated_at TIMESTAMP DEFAULT NOW()
)

3. Pages / Content (optional, if websites are editable)
Pages (
  id UUID PRIMARY KEY,
  website_id UUID REFERENCES Websites(id) ON DELETE CASCADE,
  title VARCHAR,
  slug VARCHAR,
  content JSONB, -- Or richtext/HTML
  is_homepage BOOLEAN DEFAULT FALSE,
  created_at TIMESTAMP DEFAULT NOW(),
  updated_at TIMESTAMP DEFAULT NOW()
)

4. Analytics (optional / basic)
Analytics (
  id UUID PRIMARY KEY,
  website_id UUID REFERENCES Websites(id) ON DELETE CASCADE,
  date DATE NOT NULL,
  page_views INTEGER DEFAULT 0,
  unique_visitors INTEGER DEFAULT 0,
  bounce_rate DECIMAL(5,2),
  avg_session_duration INTEGER -- in seconds
)

5. Billing / Subscriptions
Subscriptions (
  id UUID PRIMARY KEY,
  user_id UUID REFERENCES Users(id),
  provider VARCHAR, -- e.g., 'stripe'
  plan VARCHAR,     -- e.g., 'basic', 'pro'
  status ENUM('active', 'past_due', 'canceled'),
  current_period_start TIMESTAMP,
  current_period_end TIMESTAMP,
  trial_end TIMESTAMP,
  created_at TIMESTAMP DEFAULT NOW()
)

6. Settings (optional, per user or per site)
Settings (
  id UUID PRIMARY KEY,
  website_id UUID REFERENCES Websites(id) ON DELETE CASCADE,
  config JSONB -- e.g. theme, SEO, integrations, etc.
)

7. Teams / Collaborators (optional)
Collaborators (
  id UUID PRIMARY KEY,
  website_id UUID REFERENCES Websites(id),
  user_id UUID REFERENCES Users(id),
  role ENUM('owner', 'editor', 'viewer') DEFAULT 'editor',
  invited_at TIMESTAMP,
  accepted_at TIMESTAMP
)

ðŸ§© Bonus Tables (if needed)

AuditLogs â€“ Track user activity (for security or analytics)

Domains â€“ Track custom domain verification

Forms/Submissions â€“ If sites have user-facing forms